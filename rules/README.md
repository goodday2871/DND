# 規則文件模組化結構

本資料夾包含 DND 5E 規則的模組化文件,按需載入以節省 Token 和提升回應速度。

---

## 📂 文件結構

### 🔥 核心必讀 (開始冒險時)

| 檔案 | 行數 | 說明 | 何時讀取 |
|------|------|------|---------|
| `quick-ref.md` | ~150 | **快速參考卡** - 90% 日常判定只需這個 | 每次遊戲開始 |
| `01-core.md` | ~17 | 核心原則 | 每次遊戲開始 |
| `02-operations.md` | ~215 | GM 操作指令 (存檔/讀檔/上傳) | 每次遊戲開始 |
| `03-data-system.md` | ~511 | 數據持久化系統 (JSON 規則) | 每次遊戲開始 |

**小計:** ~893 行

---

### 📖 角色相關 (創建角色時)

| 檔案 | 行數 | 說明 | 何時讀取 |
|------|------|------|---------|
| `04-character.md` | ~145 | 種族、職業、背景 | 創建角色時 |
| `05-attributes-skills.md` | ~84 | 屬性、技能系統 | 創建角色時 |

---

### ⚔️ 判定與戰鬥 (常用)

| 檔案 | 行數 | 說明 | 何時讀取 |
|------|------|------|---------|
| `06-judgment.md` | ~344 | 詳細判定規則、訓練總評、Fail Forward | 需要詳細規則時 |
| `07-combat.md` | ~69 | 戰鬥系統、行動經濟 | 第一次戰鬥時 |

---

### 🎓 進階系統 (按需)

| 檔案 | 行數 | 說明 | 何時讀取 |
|------|------|------|---------|
| `08-spells-leveling.md` | ~90 | 法術系統、經驗與升級、專長 | 施法或升級時 |
| `09-equipment.md` | ~78 | 裝備、經濟、價格原則 | 購買裝備或交易時 |

---

### 🎨 敘事與範本 (參考)

| 檔案 | 行數 | 說明 | 何時讀取 |
|------|------|------|---------|
| `10-world-npcs.md` | ~157 | 世界觀、NPC 系統、敘事原則 | 需要敘事指引時 |
| `11-examples-templates.md` | ~408 | 判定實例、戰鬥範例、NPC 範本、存檔結構 | 需要範例時 |

---

## 🎯 使用策略

### 第一次開始冒險
```
讀取:
1. CLAUDE.md
2. rules/quick-ref.md
3. rules/01-core.md
4. rules/02-operations.md
5. rules/03-data-system.md

總計: ~1587 行 (vs 舊版 3426 行,減少 54%)
```

### 日常遊戲中
```
90% 的情況: 只查 quick-ref.md + data/*.json
10% 的情況: 按需載入對應模組
```

### 規則快取
```
一旦讀取過某模組,在當前對話中保持記憶,無需重複讀取
```

---

## 📊 效益對比

| 階段 | 舊版 | 新版 | 節省 |
|------|------|------|------|
| 初始載入 | 3426 行 | 1587 行 | **54%** |
| 日常判定 | 需查完整文件 | 只查 quick-ref | **95%** |
| 具體規則 | 讀取全文再找章節 | 直接讀對應模組 | **80%** |

---

## 🔍 快速查找

### 我該讀哪個文件?

**想知道 DC 是多少?**
→ `quick-ref.md`

**想知道任務賞金?**
→ `data/quests.json`

**想知道戰鬥規則?**
→ 基礎: `quick-ref.md`
→ 詳細: `rules/07-combat.md`

**想知道如何敘事?**
→ `rules/10-world-npcs.md`

**想要 NPC 範本?**
→ `rules/11-examples-templates.md`

**想知道升級選什麼?**
→ `rules/08-spells-leveling.md`

---

**規則模組化讓你更快找到需要的內容,減少不必要的閱讀!**
